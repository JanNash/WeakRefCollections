language: objective-c

xcode_workspace: WeakRefCollections.xcworkspace
xcode_scheme: WeakRefCollections
osx_image: xcode9
xcode_sdk: iphonesimulator11.0

cache:
  - bundler
  - cocoapods

install:
  - bundle install 
  - pod install

script:
  - set -o pipefail && xcodebuild clean build test -workspace WeakRefCollections.xcworkspace -scheme WeakRefCollections -destination 'platform=iOS Simulator,name=iPhone 7 Plus,OS=latest' | xcpretty
